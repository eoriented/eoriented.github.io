<!DOCTYPE html>

<html lang="ko-KR">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>Smart Tiger&#39;s blog</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="https://eoriented.github.io/apple-touch-icon.png">
    
    
    <link rel="icon" type="image/png" sizes="16x16" href="https://eoriented.github.io/favicon.ico">
    <link rel="manifest" href="https://eoriented.github.io/manifest.json">
    <link rel="mask-icon" href="https://eoriented.github.io/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="https://eoriented.github.io/css/main.min.a61a6dbd5fa5e67d72c4b5f927e5fb9dee8dd9fddcb176cfdef138e99de4d8f9.css"/>

    
    
    

    
    
 
    
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-160052384-1', 'auto');
	
	ga('send', 'pageview');
}
</script>


    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script type="text/javascript" async
  src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  MathJax.Hub.Config({
  tex2jax: {
    inlineMath: [['$','$'], ['\\(','\\)']],
    displayMath: [['$$','$$']],
    processEscapes: true,
    processEnvironments: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
    TeX: { equationNumbers: { autoNumber: "AMS" },
         extensions: ["AMSmath.js", "AMSsymbols.js"] }
  }
  });
  MathJax.Hub.Queue(function() {
    
    
    
    var all = MathJax.Hub.getAllJax(), i;
    for(i = 0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script> 
</head>
    <body>
        
<nav>
  <header>
    <div class="site-title">
        
        <a href="https://eoriented.github.io/">
        <img style="display: block; margin: 0px auto" width="90%" src="https://eoriented.github.io/images/logo2.png" /></a>
    </div>  
</header>
  <div class="nav-menu">
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/bigdata/">Big data</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/machine-learning/">Machine learning</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/programming/">Programming</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/cloud/">Cloud</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/tools/">Tools</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/categories/">Categories</a>
  
    <a class="color-link nav-link" href="https://eoriented.github.io/tags/">Tags</a>
  
  
</div>
<footer class="footer">
	<div class="social-icons" style="text-align: center">
    
    <a class="social-icon" href="https://github.com/eoriented" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    

    
    <a class="social-icon" href="mailto:eoriented@gmail.com" target="_blank" rel="noopener" title="Email">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M25.2794292,5.59128519 L14,16.8707144 L2.72057081,5.59128519 C3.06733103,5.30237414 3.51336915,5.12857603 4,5.12857603 L24,5.12857603 C24.4866308,5.12857603 24.932669,5.30237414 25.2794292,5.59128519 Z M25.9956978,6.99633695 C25.998551,7.04004843 26,7.08414302 26,7.12857603 L26,20.871424 C26,21.0798433 25.9681197,21.2808166 25.9089697,21.4697335 L18.7156355,14.2763993 L25.9956978,6.99633695 Z M24.9498374,22.6319215 C24.6672737,22.7846939 24.3437653,22.871424 24,22.871424 L4,22.871424 C3.5268522,22.871424 3.09207889,22.7071233 2.74962118,22.432463 L10.0950247,15.0870594 L13.9848068,18.9768415 L14.1878486,18.7737996 L14.2030419,18.7889929 L17.6549753,15.3370594 L24.9498374,22.6319215 Z M2.00810114,21.0526627 C2.00273908,20.9929669 2,20.9325153 2,20.871424 L2,7.12857603 C2,7.08414302 2.00144896,7.04004843 2.00430222,6.99633695 L9.03436454,14.0263993 L2.00810114,21.0526627 Z"></path>
        </svg>
    </a>
    

    
    <a class="social-icon" href="https://eoriented.github.io/index.xml" target="_blank" rel="noopener" type="application/rss+xml" title="Rss">
        <svg width="28px" height="28px" viewBox="0 0 8 8" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <circle xmlns="http://www.w3.org/2000/svg" class="symbol" cx="2" cy="6" r="1"/>
            <path xmlns="http://www.w3.org/2000/svg" class="symbol" d="m 1,4 a 3,3 0 0 1 3,3 h 1 a 4,4 0 0 0 -4,-4 z"/>
            <path xmlns="http://www.w3.org/2000/svg" class="symbol" d="m 1,2 a 5,5 0 0 1 5,5 h 1 a 6,6 0 0 0 -6,-6 z"/>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
</div>




	
	

	<script src="https://eoriented.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
</nav>
        <div id="content" class="content-container">
        
<h1 class="post-title">스트림 프로세싱(Stream Processing) - 2</h1>
    
    <div>
        <p>
        <h2 id="데이터베이스와-스트림">데이터베이스와 스트림</h2>
<p>메시지 브로커와 데이터베이스는 전혀 다른 범주의 도구로 바라볼 수 있지만 로그 기반 메시지 브로커는 데이터베이스에서 아이디어를 얻어 메시지 시스템에 적용하는데 성공하였습니다. 데이터베이스의 복제 로그(replication log)는 데이터베이스에 쓰는 이벤트 스트림으로 볼 수 있습니다.</p>
<h3 id="변경-데이터-캡처cdc-change-data-capture">변경 데이터 캡처(CDC, Change Data Capture)</h3>
<p>변경 데이터 캡쳐는 데이터베이스에 기록하는 모든 데이터의 변경사항을 관찰해 다른 시스템으로 데이터를 복제할 수 있는 형태로 추출하는 과정을 말합니다. 이러한 CDC는 데이터베이스에 데이터가 기록되자 마자 변경된 내용을 스트림을 제공하면 유용하게 사용할 수 있습니다. CDC를 소비하는 다른 시스템의 예가 다음과 같습니다.</p>
<figure >
<a href="https://www.codebycase.com/bigdata/data-intensive-applications" target="_blank">
  <img src="https://eoriented.github.io/images/stream-processing-2/cdc.png" width="100%"  style="max-width: 800px" />
  </a>

</figure>
<p>CDC는 주로 데이터베이스의 복제 로그를 파싱하여 구현합니다. 다른 방법으로는 데이터베이스의 트리거 기능을 이용하기도 합니다. 대표적인 CDC는 다음과 같습니다.</p>
<ul>
<li>링크드인의 <a href="https://github.com/linkedin/databus">Databus</a></li>
<li>페이스북의 <a href="https://www.facebook.com/notes/facebook-engineering/wormhole-pubsub-system-moving-data-through-space-and-time/10151504075843920/">Wormhole</a></li>
<li>야후의 Sherpa</li>
<li>그 외 <a href="https://github.com/confluentinc/bottledwater-pg">Bottled Water</a>(Postgresql), <a href="https://maxwells-daemon.io/">Maxwell</a>과 <a href="https://debezium.io/documentation/reference/1.2/connectors/mysql.html">Debezium</a>(Mysql), Mongoriver(MongoDB), GoldenGate(Oracle)</li>
</ul>
<h3 id="이벤트-소싱">이벤트 소싱</h3>
<p>갑자기 이벤트 소싱에 대한 설명이 나와서 의아해 할지도 모르겠습니다. 이벤트 소싱은 스트리밍 시스템과 관련한 유용한 아이디어들과 유사한 점이 많습니다. 이벤트 소싱은 도메인 주도 설계 커뮤니티에서 개발한 기법으로, CDC와 유사하게 애플리케이션 상태 변화를 모두 변경 이벤트 로그로 저장합니다.</p>
<p>이벤트 소싱은 애플리케이션 관점에서 사용자의 행동을 불변 이벤트로 기록합니다. 주로 추가만 가능하고 갱신이나 삭제는 권하지 않거나 금지합니다. 이러한 이벤트 소싱은 데이터 모델링에서 쓸 수 있습니다. 이러한 방식은 데이터베이스 상에 사용자의 행동에 대한 결과를 저장하는 방식보다 많은 장점을 지닙니다. 어떤 상황이 발생한 후에 상황 파악이 용이하기 때문에 디버깅에 도움이 되고 버그를 방지할 수 있습니다.</p>
<p>이벤트 로그 자체로는 크게 유용하지 않습니다. 일반적으로 사용자는 애플리케이션의 현재 상태를 보기 원하지 히스토리를 원하지 않기 때문입니다. 예를 들어, 쇼핑 웹 사이트에서 사용자가 장바구니에 변경 사항을 기록한 것을 보기 원하지 않고 현재 장바구니의 상태만을 보고 싶어합니다. 그래서 이벤트 소싱을 사용하는 애플리케이션은 이벤트 로그를 가져와 현재 상태를 보여주도록 변환해야 합니다.</p>
<p>CDC와 다른점은 CDC의 경우 레코드의 이전 버전은 로그 컴팩션을 통해 삭제가 가능하지만 이벤트 소싱에서는 로그 컴팩션이 불가능합니다. 그러나 전체 이벤트 로그를 반복해서 재처리하는 것은 비효율적이기 때문에 현재 상태에 대한 스냅샷을 저장하여 사용합니다.</p>
<h4 id="cqrscommand-query-reponsibility-segregation">CQRS(command query reponsibility segregation)</h4>
<p>데이터베이스와 스키마 설계의 전통적인 접근법은 데이터가 질의를 받게될 형식과 같은 형식으로 데이터를 기록해야 한다는 관점에서 접근합니다. 그러나 데이터에 대해 어떻게 질의하고 접근하는지 신경을 쓰지 않는다면 데이터 저장은 상당히 직관적인 작업이 됩니다. 그렇기 때문에 데이터를 쓰는 형식과 읽는 형식은 분리해 다양한 읽기 뷰를 허용하면 유연성을 얻을 수 있습니다. 이 개념이 바로 CQRS(command query responsibility segregation)입니다.</p>
<h2 id="스트림-처리하기">스트림 처리하기</h2>
<p>하나 이상의 입력 스트림을 처리해 하나의 이상의 출력 스트림을 생산합니다. 스트림은 최종 출력에 이르기 까지 여러 단계의 파이프 라인을 구성할 수 있습니다.</p>
<h4 id="cepcomplex-event-processing">CEP(Complex Event Processing)</h4>
<p>CEP는 스트림에서 특정 이벤트 패턴을 검색해야하는 애플리케이션에 적합합니다. CEP 엔진은 찾고자 하는 이벤트 질의를 저장하고 있다가 입력 스트림으로부터 들어오는 이벤트 패턴과 매칭되는지 찾습니다. 이에 반해 데이터베이스에서는 질의가 들어오면 질의와 매칭되는 데이터를 찾고 작업이 완료되면 질의를 기억하고 있지 않습니다. CEP 구현에는 Esper, IBM InfoSphere Streams, Apama, TIBCO StreamBase, SQLstream 등이 있습니다.</p>
<h4 id="스트림-분석">스트림 분석</h4>
<p>스트림 처리를 사용하는 이유 중에 하나는 스트림을 분석하기 위함입니다. 분석을 할 때는 고정된 시간 간격을 기준으로 계산을 주로 합니다. 예를 들어 지난 5분간 서비스에 들어온 초당 질의 수의 평균을 구하거나 같은 기간 동안 99분위 응답 시간을 구하는 것입니다. 스트림 처리에서 이렇게 집계 시간 간격을 윈도우(window)라고 합니다. 많은 분산 스트림 처리 프레임워크들이 이렇게 분석 용도로 설계되었습니다.</p>
<h3 id="시간에-대한-추론">시간에 대한 추론</h3>
<p>스트림 처리 프레임워크에서 윈도우 시간을 결정할 때 처리하는 장비의 시계(처리 시간)를 사용합니다. 이벤트 시간의 생성 시간과 이벤트 처리 시간의 간격이 작다면 괜찮지만 처리 시간이 지연되면 문제가 발생합니다. 또한 메시지가 지연되면 메시지 순서가 뒤바뀔 수도 있습니다. 그렇기 때문에 스트림 처리 알고리즘은 그런 타이밍과 순서 문제를 잘 처리하도록 작성해야 합니다.</p>
<h4 id="이벤트-시간-vs-처리-시간">이벤트 시간 vs 처리 시간</h4>
<p>이벤트 발생 시간과 처리 시간을 혼동하면 잘못된 데이터가 생길 수 있습니다. 아래의 그림의 예처럼 스트림 처리하는 애플리케이션을 재배포하면서 1분간 이벤트를 처리하지 못하다가 실행 후 백로그 이벤트들을 처리할 때, 실제 요청률은 그대로이지만 처리 시간을 기준으로 측정된 요청률은 비정상적으로 데이터가 튀는 것을 볼 수 있습니다.</p>
<figure >
<a href="https://www.codebycase.com/bigdata/data-intensive-applications" target="_blank">
  <img src="https://eoriented.github.io/images/stream-processing-2/processing-time.png" width="100%"  style="max-width: 800px" />
  </a>

</figure>
<h4 id="뒤처진-이벤트-처리">뒤처진 이벤트 처리</h4>
<p>이벤트 시간을 기준으로 윈도우를 정의하는 경우 특정 윈도우에서 모든 이벤트가 도착했다라는 것을 확신할 수 없습니다. 그렇기 때문에 윈도우가 종료된 후 도착한 이벤트를 처리할 방법이 필요한데 다음 2가지 방법이 있습니다.</p>
<ul>
<li>뒤처진 이벤트 무시
<ul>
<li>적은 비율을 차지하므로 무시하는데, 만약 비율이 올라가면 알림을 보내는 방법으로 처리합니다.</li>
</ul>
</li>
<li>정정 값 발행
<ul>
<li>정정 값은 뒤처진 이벤트가 포함된 윈도우를 기준으로 새로 갱신한 값입니다.</li>
</ul>
</li>
</ul>
<h4 id="이벤트-발생-시간-추정">이벤트 발생 시간 추정</h4>
<p>이벤트가 발생한 머신과 이벤트를 처리하는 서버의 시간을 통해서 이벤트 발생 시간을 추정하는 한가지 방법은 다음과 같이 세 개의 타임스탬프를 로그로 남기는 것입니다.</p>
<ul>
<li>이벤트 발생 시간. 장치의 시간을 따른다.</li>
<li>이벤트를 서버로 보낸 시간. 장치의 시간을 따른다.</li>
<li>서버에서 이벤트를 받은 시간. 서버의 시간을 따른다.</li>
</ul>
<p>위와 같이 세 개의 타임스탬프가 존재한다고 하면 네트워크 지연으로 인한 시간은 무시할 만하다고 가정했을 때, 서버에서 실제로 발생한 이벤트 시간을 추정할 수 있게 됩니다.</p>
<h4 id="윈도우-종류">윈도우 종류</h4>
<p>윈도우는 이벤트 수를 세거나 윈도우 내의 평균값을 구하는 등의 집계 연산을 위해 사용하는데 그 윈도우의 종류은 다음과 같습니다.</p>
<figure >

  <img src="https://eoriented.github.io/images/stream-processing-2/window.png" alt="윈도우 종류" width="100%"  style="max-width: 700px" />
  

<figcaption>
  <p>
    윈도우 종류
    
    
    
  </p> 
</figcaption>

</figure>
<ul>
<li>
<p>고정(Fixed) / 텀블링(Tumbling) 윈도우</p>
<ul>
<li>윈도우 크기는 고정</li>
<li>윈도우 중첩 불가. 모든 이벤트가 하나의 윈도우에 속함(여러 윈도우에 포함될 수 없음)</li>
</ul>
</li>
<li>
<p>슬라이딩(Sliding) / 홉핑(Hopping) 윈도우</p>
<ul>
<li>윈도우 크기는 고정</li>
<li>윈도우 중첩 가능</li>
<li>윈도우 사이즈와 홉 사이즈가 같으면 텀블링 윈도우와 같음</li>
</ul>
</li>
<li>
<p>세션 윈도우(Session window)</p>
<ul>
<li>윈도우 크기는 고정되지 않음</li>
<li>세션 별로 윈도우 생성
<ul>
<li>예 : 사이트 내 사용자별 활동을 윈도우로 생성</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="스트림-조인">스트림 조인</h3>
<p>스트림 처리에서도 배치 처리와 마찬가지로 조인이 필요합니다. 스트림 처리에서 조인의 유형은 다음 3가지로 구분합니다.</p>
<h4 id="스트림-스트림-조인윈도우-조인">스트림-스트림 조인(윈도우 조인)</h4>
<p>스트림-스트림 조인은 두 스트림으로 부터 윈도우를 구성하여 조인하는 방법입니다. 조인은 방법에 따라 다양한 조인이 있지만 여기서는 Inner 조인을 기준으로 설명합니다. 두 스트림은 윈도우 내에서 아래와 같이 조인을 할 수 있습니다.</p>
<figure >
<a href="https://www.confluent.de/blog/crossing-streams-joins-apache-kafka/" target="_blank">
  <img src="https://eoriented.github.io/images/stream-processing-2/stream-stream-join.jpg" width="100%"  style="max-width: 650px" />
  </a>

</figure>
<h4 id="스트림-테이블-조인">스트림-테이블 조인</h4>
<p>스트림 간의 조인뿐만 아니라 기존에 데이터베이스의 테이블과도 조인이 가능합니다. 예를 들어 사용자 활동 이벤트가 스트림이라고 할 때, 해당 스트림내에 존재하는 사용자 ID를 기준으로 데이터베이스로부터 사용자 프로필을 가져와서 조인할 수 있습니다. 스트림 조인을 통해서 스트림에서 필요한 정보를 추가하게 됩니다. 이 방식은 스트림 처리에서 매번 데이터베이스에 해당 정보를 요청해서 조인을 하는 방법이 있고, 테이블의 크기가 작다면 로컬에 사본을 가지고 조인을 처리할 수 있습니다. 이 경우에는 데이터베이스가 업데이트되어 변경될 수 있으니 항상 최신 상태로 유지해야 합니다. 이 경우 보통 CDC를 사용해서 처리가 가능합니다.</p>
<figure >
<a href="https://www.confluent.de/blog/crossing-streams-joins-apache-kafka/" target="_blank">
  <img src="https://eoriented.github.io/images/stream-processing-2/stream-table-join.jpg" width="100%"  style="max-width: 650px" />
  </a>

</figure>
<h4 id="테이블-테이블-조인구체화된-뷰-유지하기">테이블-테이블 조인(구체화된 뷰 유지하기)</h4>
<p>테이블-테이블 조인은 데이터베이스의 테이블끼리의 조인과 같습니다. 그러나 각각의 테이블은 다음 그림과 같이 스트림으로부터 업데이트 됩니다.</p>
<figure >
<a href="https://blog.avenuecode.com/how-kafka-enables-real-time-stream-processing-part-1" target="_blank">
  <img src="https://eoriented.github.io/images/stream-processing-2/stream-to-table.png" width="100%"  style="max-width: 700px" />
  </a>

</figure>
<p>이와 같이 두 개의 테이블이 테이블 별로 스트림으로부터 갱신이 되고, 업데이트 된 테이블을 조인하여 구체화된 뷰를 유지합니다.</p>
<h3 id="내결함성">내결함성</h3>
<p>마지막으로 설명한 내용은 내결함성입니다. 일반적으로 배치 처리의 경우 쉽게 결함에 대처할 수 있습니다. 맵리듀스를 예를 들어보면 하나의 태스트가 실패하면 다른 장비에서 해당 태스크를 다시 실행하고 실패한 태스크의 결과는 버리는 것입니다. 이와 같은 재처리가 가능한 이유는 입력 데이터가 불변이고 각 태스크가 성공적으로 완료되어야지 그 결과를 확인할 수 있기 때문입니다. 스트림 처리에서는 이러한 내결함성을 지원하기 위한 문제가 쉽지는 않습니다. 대표적으로 내결함성을 지원하는 방법은 다음과 같습니다.</p>
<ul>
<li>마이크로 배치와 체크포인팅
<ul>
<li>스파크 스트리밍에서 사용하는 방법으로 마이크로 역시 배치 처리이므로 기존의 배치 처리의 방식을 지원할 수 있습니다.</li>
<li>아파치 플링크에서는 롤링 체크 포인트를 생성하여 저장하는 방식을 사용합니다.</li>
</ul>
</li>
<li>트랜잭션
<ul>
<li>처리가 성공했을 때만 모든 출력과 이벤트 처리의 부수 효과가 발생할 수 있도록 합니다.</li>
</ul>
</li>
<li>멱등성(Idempotence)
<ul>
<li>메세지 처리가 멱등적(여러 번 수행하더라도 오직 한번 수행한 것과 같은 효과)이도록 합니다.</li>
<li>메세지를 여러 번 처리해도 결과가 같기 때문에 실패한 태스크의 출력을 버리고 다시 실행할 수 있습니다.</li>
</ul>
</li>
</ul>
<p>지금까지 이벤트 스트림에 대해 설명하고 이벤트 스트림의 목적과 처리 방법에 관해 알아보았습니다. 스트림 처리는 고정 크기의 입력이 아니라 끝이 없는 스트림 상에서 연속적으로 실행되기 때문에 그에 따른 다양한 관점에서 특징들을 살펴보았습니다.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://blog.avenuecode.com/how-kafka-enables-real-time-stream-processing-part-1">https://blog.avenuecode.com/how-kafka-enables-real-time-stream-processing-part-1</a></li>
<li><a href="https://www.confluent.de/blog/crossing-streams-joins-apache-kafka/">https://www.confluent.de/blog/crossing-streams-joins-apache-kafka/</a></li>
<li><a href="https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#window-assigners">https://ci.apache.org/projects/flink/flink-docs-stable/dev/stream/operators/windows.html#window-assigners</a></li>
<li><a href="https://docs.microsoft.com/en-us/stream-analytics-query/tumbling-window-azure-stream-analytics">https://docs.microsoft.com/en-us/stream-analytics-query/tumbling-window-azure-stream-analytics</a></li>
<li><a href="https://www.codebycase.com/bigdata/data-intensive-applications">https://www.codebycase.com/bigdata/data-intensive-applications</a></li>
</ul>

        </p>

        <br />
        <br />

        <div class="paging post-paging" style="margin-bottom: 15px;">
            
            
            <div style="text-align: left">
                <a class="left" href="https://eoriented.github.io/post/stream-processing/" rel="prev" style="color: #64BEA3">
                    <i class="fa fa-play fa-rotate-180" aria-hidden="true"></i>&nbsp;&nbsp;<span>스트림 프로세싱(Stream Processing) - 1</span>
                </a>
            </div>
            
            
            
        </div>
    </div>

    
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "smart-tiger" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
    

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="https://eoriented.github.io/tags/stream">#stream</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/messaging-system">#messaging system</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/broker">#broker</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/cdc">#cdc</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/change-data-capture">#change data capture</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/stream-join">#stream join</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/event-sourcing">#event sourcing</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/cep">#cep</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/cqrs">#cqrs</a>
        
            <a class="tag" href="https://eoriented.github.io/tags/window">#window</a>
        
      
    </div>


        
        </div>
        <footer class="footer-mobile">
	<div class="social-icons" style="text-align: center">
    
    <a class="social-icon" href="https://github.com/eoriented" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    

    
    <a class="social-icon" href="mailto:eoriented@gmail.com" target="_blank" rel="noopener" title="Email">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M25.2794292,5.59128519 L14,16.8707144 L2.72057081,5.59128519 C3.06733103,5.30237414 3.51336915,5.12857603 4,5.12857603 L24,5.12857603 C24.4866308,5.12857603 24.932669,5.30237414 25.2794292,5.59128519 Z M25.9956978,6.99633695 C25.998551,7.04004843 26,7.08414302 26,7.12857603 L26,20.871424 C26,21.0798433 25.9681197,21.2808166 25.9089697,21.4697335 L18.7156355,14.2763993 L25.9956978,6.99633695 Z M24.9498374,22.6319215 C24.6672737,22.7846939 24.3437653,22.871424 24,22.871424 L4,22.871424 C3.5268522,22.871424 3.09207889,22.7071233 2.74962118,22.432463 L10.0950247,15.0870594 L13.9848068,18.9768415 L14.1878486,18.7737996 L14.2030419,18.7889929 L17.6549753,15.3370594 L24.9498374,22.6319215 Z M2.00810114,21.0526627 C2.00273908,20.9929669 2,20.9325153 2,20.871424 L2,7.12857603 C2,7.08414302 2.00144896,7.04004843 2.00430222,6.99633695 L9.03436454,14.0263993 L2.00810114,21.0526627 Z"></path>
        </svg>
    </a>
    

    
    <a class="social-icon" href="https://eoriented.github.io/index.xml" target="_blank" rel="noopener" type="application/rss+xml" title="Rss">
        <svg width="28px" height="28px" viewBox="0 0 8 8" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <circle xmlns="http://www.w3.org/2000/svg" class="symbol" cx="2" cy="6" r="1"/>
            <path xmlns="http://www.w3.org/2000/svg" class="symbol" d="m 1,4 a 3,3 0 0 1 3,3 h 1 a 4,4 0 0 0 -4,-4 z"/>
            <path xmlns="http://www.w3.org/2000/svg" class="symbol" d="m 1,2 a 5,5 0 0 1 5,5 h 1 a 6,6 0 0 0 -6,-6 z"/>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    
    

    
</div>




	
		
		
		
	

	<script src="https://eoriented.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww="></script>
</footer>
    </body>
</html>